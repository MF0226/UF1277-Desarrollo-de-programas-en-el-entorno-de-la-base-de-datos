SET SERVEROUTPUT ON

DECLARE
    -- Variable para el número a calcular. Usamos SIMPLE_INTEGER para mejor rendimiento.
    vNumero    SIMPLE_INTEGER := 13;
    -- El resultado debe ser NUMBER debido a la magnitud del factorial.
    vResultado NUMBER := 1;
    -- Cadena de texto para el mensaje de salida.
    vTexto     VARCHAR2(100) := 'El factorial de ' || vNumero || ' es:';
BEGIN
    -- Bucle WHILE: Se ejecuta mientras el valor de vNumero sea mayor que 1.
    WHILE vNumero > 1 LOOP
        -- Acumula el resultado del factorial.
        vResultado := vResultado * vNumero;
        -- Decrementa el número en 1.
        vNumero := vNumero - 1;
    END LOOP;
    -- Comprueba si el cálculo se realizó con éxito (vNumero debe ser 1 al terminar).
    IF vNumero = 1 THEN
        -- Muestra el resultado formateado.
        DBMS_OUTPUT.PUT_LINE(vTexto || TO_CHAR(vResultado,'999,999,999,999'));
    ELSE
        -- Muestra un mensaje de error si no se pudo calcular.
        DBMS_OUTPUT.PUT_LINE('No se ha podido calcular.');
    END IF;
END;
/
